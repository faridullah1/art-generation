<div class="container">
	<div class="heading">
		<h1>My creations</h1>
	</div>

	<div class="creations" [ngClass]="layout === 'Grid' ? 'grid-container' : 'list-container'">
		<div class="actions">
			<div class="left">
				<div class="layout">
					<button [class.selected]="layout === 'List'" mat-icon-button (click)="onLayoutChange('List')">
						<mat-icon>reorder</mat-icon>
					</button>

					<button [class.selected]="layout === 'Grid'" mat-icon-button (click)="onLayoutChange('Grid')">
						<mat-icon>grid_view</mat-icon>
					</button>
				</div>
	
				<div class="ml-3">
					<span class="label">Filter:</span>
					<select [formControl]="statusFC" (change)="getAllCreations()">
						<option *ngFor="let status of statuses" [value]="status">{{ status }}</option>
					</select>
				</div>
			</div>

			<div class="right">
				<div>
					<button mat-icon-button (click)="getAllCreations()">
						<mat-icon>refresh</mat-icon>
					</button>

					<button mat-icon-button>
						<mat-icon>more_vert</mat-icon>
					</button>
				</div>
			</div>
		</div>

		<ng-container *ngIf="!loading; else loader">
			<ng-container *ngIf="layout === 'List'; else gridView;">
				<ng-container *ngFor="let creation of creations">
					<div class="card" *ngIf="creation.outputImage">
						<div class="detail">
							<div class="label" *ngIf="creation.isPublished">Published</div>

							<div class="model-actions">
								<button *ngIf="!creation.isPublished" class="action publish" (click)="onPublishCreation(creation)">
									<mat-icon style="margin-right: .5rem">navigation</mat-icon>
									Publish
								</button>
							</div>
		
							<div class="model-info">
								<h3> <a>{{ creation.prompt }}</a></h3>
								<div class="created-at">Created At: {{ creation.createdAt | date:'shortDate' }}</div>
							</div>
						</div>
		
						<img [src]="creation.outputImage" alt="Creation" class="image">
					</div>
				</ng-container>
			</ng-container>
			
			<ng-template #gridView>
				<div class="grid-view">
					<div class="grid-card" *ngFor="let creation of creations">
						<img [src]="creation.outputImage" alt="Creation" class="image">
					</div>
				</div>
			</ng-template>

			<div class="no-record">
				<p class="text">There's nothing here yet. Create something now!</p>
				<button class="btn-create" (click)="navigetToCreate()">Create</button>
			</div>
		</ng-container>

		<ng-template #loader>
			<mat-spinner diameter="30"></mat-spinner>
		</ng-template>
	</div>
</div>
